mod = {}

local mappings = {
	["À"] = "A",
	["Á"] = "A",
	["Â"] = "A",
	["Ã"] = "A",
	["Ä"] = "A",
	["Å"] = "A",
	["Ç"] = "C",
	["É"] = "E",
	["Ê"] = "E",
	["Ë"] = "E",
	["Ì"] = "I",
	["Í"] = "I",
	["Î"] = "I",
	["Ï"] = "I",
	["Ð"] = "D",
	["Ñ"] = "N",
	["Ò"] = "O",
	["Ó"] = "O",
	["Ô"] = "O",
	["Õ"] = "O",
	["Ö"] = "O",
	["Ø"] = "O",
	["Ù"] = "U",
	["Ú"] = "U",
	["Û"] = "U",
	["Ý"] = "Y",
	["Þ"] = "Th",
	["ß"] = "ss",
	["à"] = "a",
	["á"] = "a",
	["â"] = "a",
	["ã"] = "a",
	["ä"] = "a",
	["å"] = "a",
	["æ"] = "ae",
	["ç"] = "c",
	["è"] = "e",
	["é"] = "e",
	["ê"] = "e",
	["ë"] = "e",
	["ì"] = "i",
	["í"] = "i",
	["î"] = "i",
	["ï"] = "i",
	["ð"] = "d",
	["ñ"] = "n",
	["ò"] = "o",
	["ó"] = "o",
	["ô"] = "o",
	["õ"] = "o",
	["ö"] = "o",
	["ø"] = "o",
	["ù"] = "u",
	["ú"] = "u",
	["û"] = "u",
	["ü"] = "u",
	["ý"] = "y",
	["þ"] = "th",
	["ÿ"] = "y",
	["ă"] = "a",
	["ą"] = "a",
	["Ć"] = "C",
	["ć"] = "c",
	["Č"] = "C",
	["č"] = "c",
	["Đ"] = "D",
	["đ"] = "d",
	["ė"] = "e",
	["ę"] = "e",
	["ě"] = "e",
	["ğ"] = "g",
	["ĩ"] = "i",
	["į"] = "i",
	["ı"] = "i",
	["ł"] = "l",
	["ń"] = "n",
	["ő"] = "o",
	["Œ"] = "OE",
	["œ"] = "oe",
	["ś"] = "s",
	["Ŝ"] = "S",
	["Š"] = "S",
	["š"] = "s",
	["ţ"] = "t",
	["ũ"] = "u",
	["Ŭ"] = "U",
	["ű"] = "u",
	["ų"] = "u",
	["ź"] = "z",
	["ż"] = "z",
	["Ž"] = "Z",
	["ž"] = "z",
	["ơ"] = "o",
	["ư"] = "u",
	["Ș"] = "S",
	["ș"] = "s",
	["ț"] = "t",
	["ả"] = "a",
}

mod.normalize = function(self, str)
	if self ~= mod then
		error("str:normalize(someString) should be called with `:`", 2)
	end
	local normalized = str:gsub("[%z\1-\127\194-\244][\128-\191]*", mappings)
	return normalized
end

mod.toLower = function(self, str)
	if self ~= mod then
		error("str:toLower(someString) should be called with `:`", 2)
	end
	return string.lower(str)
end

return mod
